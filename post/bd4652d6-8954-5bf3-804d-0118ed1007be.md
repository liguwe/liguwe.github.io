
# æœ€é•¿é€’å¢å­åºåˆ— + ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜

#ç®—æ³•/åŠ¨æ€è§„åˆ’ #2023/03/24


## æœ€é•¿é€’å¢å­åºåˆ—

![](images/09375be79b342cc408a1a8513f5aa3b4.png)

- [https://leetcode.cn/problems/longest-increasing-subsequence/](https://leetcode.cn/problems/longest-increasing-subsequence/)

> **`ã€Œå­åºåˆ—ã€`å’Œ`ã€Œå­ä¸²ã€`çš„åŒºåˆ«**ï¼š Â `å­ä¸²`ä¸€å®šæ˜¯`è¿ç»­`çš„ï¼Œè€Œ`å­åºåˆ—`ä¸ä¸€å®šæ˜¯`è¿ç»­`çš„



## æ•°å­¦å½’çº³æ³•

- **å®šä¹‰ dp**ï¼š Â `dp[i]` è¡¨ç¤ºä»¥ `nums[i]` è¿™ä¸ªæ•°`ç»“å°¾`çš„ æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚

   - base case : `dp[0] = 1`
   - å…¶ä»–çš„ï¼Œå¦‚ä¸‹å›¾ï¼Œå…³é”®æ˜¯éœ€è¦ç”»å‡º `index` , `nums` , `dp` ä¸‰è€…çš„å¯¹åº”å…³ç³»
   - æ¨å¯¼å‡º `dp[5]` ï¼Œ

      - å…ˆ æ‰¾åˆ° **æ‰€æœ‰æ¯” `nums[5]` å°çš„** ï¼Œå³ `nums[0] = 1` å’Œ `nums[4] = 2`

         - ç„¶åï¼Œå†æ¯”è¾ƒ Â `dp[0] + 1` å’Œ Â  `dp[4] + 1` Â ï¼Œå“ªä¸ªæ›´å¤§ï¼Ÿ æœ€å¤§å€¼å°±æ˜¯ `dp[5]` çš„å€¼

![](images/9492ac97396792c435491f25e44800bb.png)

æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var lengthOfLIS = function(nums) {
    // dp[i] è¡¨ç¤ºä»¥ nums[i] è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1
    // â‘  æœ€é•¿é€’å¢å­åºåˆ—
    let dp = new Array(nums.length).fill(1);
    for (let i = 0; i < nums.length; i++) {
	    // ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢  j < i ,æ³¨æ„è¿™ä¸ª
        for (let j = 0; j < i; j++) {
            if (nums[i] > nums[j])
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
    // è¿™é‡Œå†éå†æ‰¾åˆ°æœ€å¤§çš„ dp å€¼å³å¯
    let res = 0;
    for (let i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼š `O(N^2)`


## `åŠ¨æ€å½’çº³æ³•` æ‰¾`çŠ¶æ€è½¬ç§»å…³ç³»` çš„å¥—è·¯æ€»ç»“

1ã€æ˜ç¡® `dp æ•°ç»„`çš„å®šä¹‰ã€‚è¿™ä¸€æ­¥å¯¹äºä»»**ä½•åŠ¨æ€è§„åˆ’é—®é¢˜**éƒ½å¾ˆé‡è¦ï¼Œå¦‚æœä¸å¾—å½“æˆ–è€…ä¸å¤Ÿæ¸…æ™°ï¼Œä¼šé˜»ç¢ä¹‹åçš„æ­¥éª¤ã€‚

> [!danger]

éå¸¸é‡è¦ï¼Œå®šä¹‰é”™è¯¯å°±æ²¡æ³•å¾€ä¸‹èµ°äº†ï¼Œå¦‚æœé”™è¯¯ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ `dp æ•°ç»„`çš„å®šä¹‰ä¸å¤Ÿæ°å½“ï¼Œéœ€è¦é‡æ–°å®šä¹‰ dp æ•°ç»„çš„å«ä¹‰ï¼›æˆ–è€…å¯èƒ½æ˜¯ `dp æ•°ç»„å­˜å‚¨çš„ä¿¡æ¯è¿˜ä¸å¤Ÿ`ï¼Œä¸è¶³ä»¥æ¨å‡ºä¸‹ä¸€æ­¥çš„ç­”æ¡ˆï¼Œéœ€è¦æŠŠ `dp æ•°ç»„æ‰©å¤§æˆäºŒç»´æ•°ç»„ç”šè‡³ä¸‰ç»´æ•°ç»„`ã€‚


2ã€æ ¹æ® dp æ•°ç»„çš„å®šä¹‰ï¼Œè¿ç”¨`æ•°å­¦å½’çº³æ³•`çš„æ€æƒ³ï¼Œå‡è®¾ `dp[0...i-1]` éƒ½å·²çŸ¥ï¼Œæƒ³åŠæ³•æ±‚å‡º `dp[i]`ï¼Œä¸€æ—¦è¿™ä¸€æ­¥å®Œæˆï¼Œæ•´ä¸ªé¢˜ç›®åŸºæœ¬å°±è§£å†³äº†


## `O(NlogN)` çš„è§£æ³•

ç±»ä¼¼æ‰‘å…‹ç‰Œï¼Œå…¶å®æœ€é•¿é€’å¢å­åºåˆ—å’Œä¸€ç§å«åš `patience game` çš„çº¸ç‰Œæ¸¸æˆæœ‰å…³ï¼Œç”šè‡³æœ‰ä¸€ç§æ’åºæ–¹æ³•å°±å«åš `patience sortingï¼ˆè€å¿ƒæ’åºï¼‰` ï¼Œå¯ä»¥åˆ©ç”¨åˆ°äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œå…·ä½“ä¸å±•å¼€äº†ï¼Œå¯å‚è€ƒä¸‹é¢é“¾æ¥ã€‚


## æ‰©å±•åˆ°äºŒç»´ - ä¿„ç½—æ–¯å¥—å¨ƒ

- [https://leetcode.cn/problems/russian-doll-envelopes/](https://leetcode.cn/problems/russian-doll-envelopes/)

![](images/395e584dee98c2424eaf6360398e0aeb.png)

è§£æ³•æ¯”è¾ƒå·§å¦™ï¼š

- å…ˆå¯¹å®½åº¦ `w` è¿›è¡Œ`å‡åº`æ’åºï¼Œ

   - å¦‚æœé‡åˆ° `w ç›¸åŒ`çš„æƒ…å†µï¼Œåˆ™æŒ‰ç…§é«˜åº¦ `h` Â `é™åº` æ’åºï¼›
- ä¹‹åæŠŠæ‰€æœ‰çš„ `h` ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸Šè®¡ç®— `LIS çš„é•¿åº¦`å°±æ˜¯ç­”æ¡ˆã€‚

å¦‚ä¸‹å›¾ï¼Œåªéœ€è¦å¯¹ `[8,3,4,2,7]` æŸ¥æ‰¾ `æœ€é•¿é€’å¢å­åºåˆ—` å³å¯ï¼Œ ä¸å¥½ç†è§£çš„è¯çœ‹ä¸‹é¢ä¸¤å¼ å›¾

![](images/24098ee53be356c7b43e38ad34229b34.png)

å¦‚ä¸‹å›¾ï¼Œæœ€é•¿é€’å¢å­åºåˆ— `[3 4 7]`

![](images/36da8b6d16a4d0334f52544cda98e823.png)

å…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * @param {number[][]} envelopes
 * @return {number}
 */
function maxEnvelopes(envelopes) {
    let n = envelopes.length;
    // æŒ‰å®½åº¦å‡åºæ’åˆ—ï¼Œå¦‚æœå®½åº¦ä¸€æ ·ï¼Œåˆ™æŒ‰é«˜åº¦é™åºæ’åˆ—
    envelopes.sort((a, b) => {
        return a[0] === b[0] ?
            b[1] - a[1] : a[0] - b[0];
    });
    // å¯¹é«˜åº¦æ•°ç»„å¯»æ‰¾ LIS
    let height = new Array(n);
    for (let i = 0; i < n; i++) {
        height[i] = envelopes[i][1];
    }
    return lengthOfLIS(height);
}

function lengthOfLIS(nums) {
    // dp[i] è¡¨ç¤ºä»¥ nums[i] è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1
    let dp = new Array(nums.length).fill(1);
    for (let i = 0; i < nums.length; i++) {
        for (let j = 0; j < i; j++) {
            if (nums[i] > nums[j])
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
    let res = 0;
    for (let i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
}
```

> [!danger]

æ³¨æ„ï¼šä»¥ä¸Šæ–¹å¼ä¸èƒ½é€šè¿‡ LeetCode çš„æ‰€æœ‰ç”¨ä¾‹ï¼Œéœ€è¦ä½¿ç”¨äºŒåˆ†æ³•æ‰èƒ½é€šè¿‡



## å‚è€ƒ

- [https://labuladong.github.io/algo/di-er-zhan-a01c6/dong-tai-g-a223e/dong-tai-g-6ea57/](https://labuladong.github.io/algo/di-er-zhan-a01c6/dong-tai-g-a223e/dong-tai-g-6ea57/)

---


# é˜…è¯»åŸæ–‡

- [https://liguwe.github.io/post/bd4652d6-8954-5bf3-804d-0118ed1007be](https://liguwe.github.io/post/bd4652d6-8954-5bf3-804d-0118ed1007be)
