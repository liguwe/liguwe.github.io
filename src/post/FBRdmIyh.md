
# å¿«é€Ÿæ’åº


`#ç®—æ³•/æ’åº`


## ç›®å½•
<!-- toc -->
 ## æ€»ç»“ 

- ä¸€å¥è¯ï¼šå¿«é€Ÿæ’åºçš„è¿‡ç¨‹å°±æ˜¯æ„é€  BST çš„è¿‡ç¨‹ï¼Œå¦‚ä¸‹

```javascript
        [4, 1, 7, 2, 5, 3, 6]
         /                 \
    [2, 1, 3]    [4]     [7, 5, 6]
     /     \              /     \
  [1]  [2]  [3]        [5]  [6]  [7]
```

- åœ¨äºŒå‰æ ‘éå†çš„`å‰åºä½ç½®`å°†ä¸€ä¸ªå…ƒç´ æ’å¥½ä½ç½®ï¼Œç„¶åé€’å½’åœ°å°†å‰©ä¸‹çš„å…ƒç´ æ’å¥½ä½ç½®

- ä¸‹é¢çš„è§£æ³•å†…å­˜çˆ†äº†

```javascript
var sortArray = function (nums) {
    return sort(nums);

    function sort(nums) {
        let n = nums.length;
        // base cace
        if (n < 2) return nums;
        let left = [];
        let right = [];
        let midIndex = Math.floor(n / 2);
        let mid = nums[midIndex];
        nums.splice(midIndex, 1); // åˆ é™¤
        for (let num of nums) {
            if (num < mid) {
                left.push(num);
            } else {
                right.push(num);
            }
        }
        // å‰åºä½ç½®
        let leftArr = sort(left);
        let rightArr = sort(right);
        return [...leftArr, mid, ...rightArr];
    }
};
```

è¿™ç§å†™æ³•è¿˜æ˜¯ä¸èƒ½é€šè¿‡æ‰€æœ‰ç”¨ä¾‹ï¼Ÿ
- è¿™é‡Œä½¿ç”¨äº†åŒæŒ‡é’ˆæŠ€å·§ï¼Œç”¨äºäº¤æ¢

```javascript
var sortArray = function (nums) {
    let n = nums.length;
    sort(0, n - 1);
    return nums;

    function sort(left, right) {
        if (left >= right) return;

        // è®¡ç®—ä¸­ç‚¹
        // let midIndex = Math.floor(left + (right - left) / 2);
        // éšæœºé€‰æ‹©åŸºå‡†å€¼ï¼Œé¿å…æœ‰åºæ•°ç»„çš„æœ€å·®æƒ…å†µ
        let midIndex = left + Math.floor(Math.random() * (right - left + 1));
        let mid = nums[midIndex];

        // å…ˆå°†åŸºå‡†å€¼æ”¾åˆ°æœ€å³è¾¹
        [nums[midIndex], nums[right]] = [nums[right], nums[midIndex]];

        // åŒæŒ‡é’ˆï¼šå¿«æ…¢æŒ‡é’ˆ
        let p1 = left - 1; // æ…¢æŒ‡é’ˆï¼Œè¡¨ç¤ºå°äºç­‰äºåŸºå‡†å€¼çš„è¾¹ç•Œ

        // å°†å°äºåŸºå‡†å€¼çš„å…ƒç´ éƒ½äº¤æ¢åˆ°å·¦è¾¹
        for (let p2 = left; p2 < right; p2++) {
            // p2 ç›´åˆ°right-1ï¼Œå› ä¸ºrightæ˜¯åŸºå‡†å€¼
            if (nums[p2] < mid) {
                p1++;
                [nums[p1], nums[p2]] = [nums[p2], nums[p1]];
            }
        }

        // å°†åŸºå‡†å€¼æ”¾å›æ­£ç¡®ä½ç½®
        p1++;
        [nums[p1], nums[right]] = [nums[right], nums[p1]];

        // é€’å½’å¤„ç†å·¦å³ä¸¤éƒ¨åˆ†
        sort(left, p1 - 1);
        sort(p1 + 1, right);
    }
};
```

## 1. å¿«æ’ç®—æ³•ï¼šç¯‡äºŒ

### 1.1. ä¸€å¥è¯æ€»ç»“å¿«æ’ç®—æ³•

å¿«é€Ÿæ’åºæ˜¯**å…ˆå°†**ä¸€ä¸ªå…ƒç´ æ’å¥½åºï¼Œç„¶åå†å°†**å‰©ä¸‹çš„å…ƒç´ **æ’å¥½åº

![cos-blog-832-34-20241012](https://blog-1310531898.cos.ap-beijing.myqcloud.com/832-34-20241012/Pasted%20image%2020240916104326.png)

> è¿™å°±åƒæ˜¯åœ¨æ•´ç†ä¸€å¤§å †æ‚ä¹±çš„ç‰©å“ï¼Œæˆ‘ä»¬å…ˆé€‰ä¸€ä¸ªæ ‡å‡†ï¼ŒæŠŠç‰©å“åˆ†æˆä¸¤å †ï¼Œç„¶åå†åˆ†åˆ«æ•´ç†è¿™ä¸¤å †ï¼Œå¦‚æ­¤åå¤ï¼Œæœ€ç»ˆå°±èƒ½å¾—åˆ°ä¸€ä¸ªäº•ç„¶æœ‰åºçš„ç»“æœã€‚

### 1.2. å¿«æ’å°±æ˜¯æ„é€  BST çš„è¿‡ç¨‹

![cos-blog-832-34-20241012](https://blog-1310531898.cos.ap-beijing.myqcloud.com/832-34-20241012/å¿«é€Ÿæ’åº.gif)


![cos-blog-832-34-20241012](https://blog-1310531898.cos.ap-beijing.myqcloud.com/832-34-20241012/Pasted%20image%2020240916104516.png)

--- 

ä¸€ç§æç«¯åœºæ™¯ï¼šä½ ä¸å¯èƒ½æ¯æ¬¡éƒ½é€‰ä¸­äº†**åˆé€‚çš„åˆ‡åˆ†ç‚¹**å§ï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­çš„ `4` ï¼Œæ‰€ä»¥å¦‚æœæœ‰ä¸€è¾¹çš„å…ƒç´ ç‰¹åˆ«å°‘çš„è¯ï¼Œä¼šå¯¼è‡´äºŒå‰æ ‘ç”Ÿé•¿ä¸å¹³è¡¡ï¼Œå¦‚ä¸‹å›¾ï¼š

![cos-blog-832-34-20241012](https://blog-1310531898.cos.ap-beijing.myqcloud.com/832-34-20241012/Pasted%20image%2020240917105205.png)

æ‰€ä»¥éœ€è¦**éšæœºæ€§**ï¼Œä¸¤ç§æ–¹æ³•
- æ´—ç‰Œæ•°ç»„
- éšæœºé€‰ä¸­**åˆ‡åˆ†ç‚¹**

> ç»è¿‡éšæœºåŒ–çš„Â `partition`Â å‡½æ•°å¾ˆéš¾å‡ºç°æç«¯æƒ…å†µ

### 1.3. å¿«æ’ä¸äºŒå‰æ ‘çš„éå†çš„å…³ç³»

![cos-blog-832-34-20241012|536](https://blog-1310531898.cos.ap-beijing.myqcloud.com/832-34-20241012/Pasted%20image%2020240917132719.png)

### 1.4. ä»£ç å®ç°ä¸€ï¼šç®€å•å®ç°

```javascript
var quickSort = function (nums) {
  if (nums.length <= 1) {
    return nums;
  }

  let midIndex = Math.floor(nums.length / 2);

  let left = [];
  let right = [];
  let mid = [];

  let midValue = nums[midIndex];
  // ä»æ•°ç»„ä¸­åˆ é™¤ä¸­é—´å€¼
  nums.splice(midIndex, 1);
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] < midValue) {
      left.push(nums[i]);
    } else if (nums[i] > midValue) {
      right.push(nums[i]);
    } else {
      mid.push(nums[i]);
    }
  }

  //**********************
  //  å‰åºä½ç½®
  //**********************
  let sortLeft = quickSort(left);
  let sortRight = quickSort(right);

  return [...sortLeft, ...mid, ...sortRight];
};

/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var findKthLargest = function (nums, k) {
  let sorted = quickSort(nums);
  return sorted[sorted.length - k];
};

```

#### 1.4.1. å¤æ‚åº¦åˆ†æ

1. æ—¶é—´å¤æ‚åº¦ï¼š
	- å¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(n log n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚
	- æœ€åæƒ…å†µä¸‹ï¼ˆå½“æ•°ç»„å·²ç»æ’åºæˆ–è€…æ¥è¿‘æ’åºæ—¶ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦å¯èƒ½é€€åŒ–åˆ° O(n^2)ã€‚
	- æœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
	- æ€»çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n log n)
2. ç©ºé—´å¤æ‚åº¦ï¼š
   - å¿«é€Ÿæ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸»è¦æ¥è‡ª**é€’å½’è°ƒç”¨æ ˆ**å’Œåˆ›å»ºçš„æ–°æ•°ç»„ã€‚
   - å¹³å‡æƒ…å†µä¸‹ï¼Œé€’å½’æ·±åº¦ä¸º O(log n)ã€‚
   - æ¯æ¬¡é€’å½’éƒ½åˆ›å»ºäº†æ–°çš„ leftã€right å’Œ mid æ•°ç»„ï¼Œæœ€åæƒ…å†µä¸‹å¯èƒ½éœ€è¦ `O(n)` çš„é¢å¤–ç©ºé—´ã€‚
   - æ€»çš„ç©ºé—´å¤æ‚åº¦ï¼šO(n log n)
   - æœ€åæƒ…å†µç©ºé—´å¤æ‚åº¦ï¼šO(n^2)
3. é¢å¤–è¯´æ˜ï¼š
   - è¿™ä¸ªå®ç°ä½¿ç”¨äº†é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œè€Œ**ä¸æ˜¯åŸåœ°æ’åº**ï¼Œè¿™å¢åŠ äº†ç©ºé—´å¤æ‚åº¦ã€‚
   - å¯¹äºæ‰¾ç¬¬kå¤§å…ƒç´ çš„é—®é¢˜ï¼Œå…¶å®ä¸éœ€è¦å®Œå…¨æ’åºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼ˆQuickSelectï¼‰æ¥ä¼˜åŒ–ï¼Œä½¿å¹³å‡æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(n)ã€‚
4. ä¼˜åŒ–å»ºè®®ï¼š
   - å¯ä»¥è€ƒè™‘ä½¿ç”¨åŸåœ°å¿«é€Ÿæ’åºæ¥å‡å°‘ç©ºé—´ä½¿ç”¨ã€‚

### 1.5. ä»£ç å®ç°äºŒï¼šåŸåœ°æ’åº

> [!danger]
> è¯´å®è¯ï¼Œå®Œå…¨å†™å‡ºæ¥è¿˜æ˜¯æŒºéš¾çš„ï¼ŒæŒæ¡åŸç†å°±è¡Œäº†ï¼Œèƒ½å¤Ÿå†™å‡ºæ¥æˆæœ¬æ”¶ç›Šåˆå¦‚ä½•å‘¢ï¼Ÿ

```javascript
var quickSort = function (nums) {
  // ä¸ºäº†é¿å…å‡ºç°è€—æ—¶çš„æç«¯æƒ…å†µï¼Œå…ˆéšæœºæ‰“ä¹±
  shuffle(nums);
  // æ’åºæ•´ä¸ªæ•°ç»„ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰
  sort(nums, 0, nums.length - 1);
};

// æ´—ç‰Œç®—æ³•ï¼Œå°†è¾“å…¥çš„æ•°ç»„éšæœºæ‰“ä¹±
var shuffle = function (nums) {
  for (let i = nums.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    // ES6 çš„è§£æ„èµ‹å€¼
    [nums[i], nums[j]] = [nums[j], nums[i]];
  }
};

var sort = function (nums, lo, hi) {
  // é€’å½’çš„ç»ˆæ­¢æ¡ä»¶, lo >= hi æ—¶è¿”å›
  if (lo >= hi) {
    return;
  }
  // å¯¹ nums[lo..hi] è¿›è¡Œåˆ‡åˆ†
  // ä½¿å¾— nums[lo..p-1] <= nums[p] < nums[p+1..hi]
  var p = partition(nums, lo, hi);
  sort(nums, lo, p - 1);
  sort(nums, p + 1, hi);
};

/**
 *@description å¯¹æ•°ç»„ nums çš„å­åŒºé—´ [lo, hi] è¿›è¡Œåˆ‡åˆ†æ“ä½œ
 *   ä»[lo,hi]ä¸­xé€‰æ‹© pivot = nums[lo] ä½œä¸ºåˆ‡åˆ†ç‚¹
 *      å°†å°äº pivot çš„å…ƒç´ æ”¾åœ¨å·¦ä¾§ï¼Œå¤§äº pivot çš„å…ƒç´ æ”¾åœ¨å³ä¾§
 *@param {number[]} nums å¾…åˆ‡åˆ†çš„æ•°ç»„
 *@param {number} lo åˆ‡åˆ†çš„å·¦è¾¹ç•Œ
 *@param {number} hi åˆ‡åˆ†çš„å³è¾¹ç•Œ
 *@return {number} è¿”å› p, ä½¿å¾— nums[lo..p-1] <= nums[p] < nums[p+1..hi]
 */
var partition = function (nums, lo, hi) {
  var pivot = nums[lo];
  var i = lo + 1, // i ä» lo + 1 å¼€å§‹ï¼Œé€æ¸å‘å³é€¼è¿‘
    j = hi; // j ä» hi å¼€å§‹,é€æ¸å‘å·¦é€¼è¿‘
  // å½“ i > j æ—¶ç»“æŸå¾ªç¯ï¼Œä»¥ä¿è¯åŒºé—´ [lo, hi] éƒ½è¢«è¦†ç›–
  while (i <= j) {
    while (i < hi && nums[i] <= pivot) {
      i++;
      // æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[i] > pivot
    }
    while (j > lo && nums[j] > pivot) {
      j--;
      // æ­¤ while ç»“æŸæ—¶æ°å¥½ nums[j] <= pivot
    }

    // è¿™ä¸ªæ—¶å€™å¯ä»¥è‡ªå·±è·³å‡ºå¾ªç¯äº†
    if (i >= j) {
      break;
    }
    // æ­¤æ—¶ [lo, i) <= pivot && (j, hi] > pivot
    // äº¤æ¢ nums[j] å’Œ nums[i]
    [nums[i], nums[j]] = [nums[j], nums[i]];
    // æ­¤æ—¶ [lo, i] <= pivot && [j, hi] > pivot
  }
  // æœ€åå°† pivot æ”¾åˆ°åˆé€‚çš„ä½ç½®ï¼Œå³ pivot å·¦è¾¹å…ƒç´ è¾ƒå°ï¼Œå³è¾¹å…ƒç´ è¾ƒå¤§
  [nums[lo], nums[j]] = [nums[j], nums[lo]];
  return j;
};
```

## 2. å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼šç¯‡ä¸€

å¿«é€Ÿé€‰æ‹©ç®—æ³•æ˜¯ä¸€ç§ç”¨äº**æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬kå°ï¼ˆæˆ–ç¬¬kå¤§ï¼‰å…ƒç´ **çš„é«˜æ•ˆç®—æ³•ã€‚å®ƒçš„æ€æƒ³æºè‡ªäºå¿«é€Ÿæ’åºç®—æ³•ï¼Œä½†é€šå¸¸æ¯”å®Œæ•´çš„æ’åºæ›´å¿«ï¼Œå› ä¸ºå®ƒåªéœ€è¦éƒ¨åˆ†æ’åºæ•°ç»„ã€‚

è®©æˆ‘ä»¬æ·±å…¥äº†è§£å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼š

1. ç®—æ³•æ¦‚è¿°ï¼š
   å¿«é€Ÿé€‰æ‹©çš„ä¸»è¦æ€æƒ³æ˜¯ä½¿ç”¨ç±»ä¼¼å¿«é€Ÿæ’åºçš„åˆ†åŒºç­–ç•¥ï¼Œä½†åªé€’å½’åœ°æœç´¢åŒ…å«ç¬¬kå°å…ƒç´ çš„é‚£ä¸€éƒ¨åˆ†ã€‚
2. ç®—æ³•æ­¥éª¤ï¼š
   a. é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰
   b. å°†æ•°ç»„åˆ†åŒºï¼Œä½¿å¾—å°äºåŸºå‡†çš„å…ƒç´ åœ¨å·¦è¾¹ï¼Œå¤§äºåŸºå‡†çš„å…ƒç´ åœ¨å³è¾¹
   c. æ ¹æ®åˆ†åŒºä½ç½®å’Œkçš„å…³ç³»ï¼Œå†³å®šæ˜¯è¿”å›ç»“æœï¼Œè¿˜æ˜¯ç»§ç»­åœ¨å·¦è¾¹æˆ–å³è¾¹é€’å½’æŸ¥æ‰¾
3. JavaScript å®ç°ï¼š

```javascript
function quickSelect(arr, k) {
    // kåº”è¯¥åœ¨1åˆ°arr.lengthä¹‹é—´
    if (k < 1 || k > arr.length) {
        return null;
    }
    return select(arr, 0, arr.length - 1, k);
}

function select(arr, left, right, k) {
    // å¦‚æœå·¦å³æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æ‰¾åˆ°äº†ç¬¬kå°çš„å…ƒç´ 
    if (left === right) {
        return arr[left];
    }
    
    // é€‰æ‹©åŸºå‡†å¹¶åˆ†åŒº
    let pivotIndex = partition(arr, left, right);
    
    // è®¡ç®—åŸºå‡†çš„ç§©ï¼ˆå³å®ƒæ˜¯ç¬¬å‡ å°çš„å…ƒç´ ï¼‰
    let rank = pivotIndex - left + 1;
    
    if (k === rank) {
        // å¦‚æœåŸºå‡†çš„ç§©æ­£å¥½æ˜¯kï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ç¬¬kå°çš„å…ƒç´ 
        return arr[pivotIndex];
    } else if (k < rank) {
        // å¦‚æœkå°äºrankï¼Œåœ¨å·¦åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾
        return select(arr, left, pivotIndex - 1, k);
    } else {
        // å¦‚æœkå¤§äºrankï¼Œåœ¨å³åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾
        return select(arr, pivotIndex + 1, right, k - rank);
    }
}

function partition(arr, left, right) {
    let pivot = arr[right]; // é€‰æ‹©æœ€å³è¾¹çš„å…ƒç´ ä½œä¸ºåŸºå‡†
    let i = left - 1;
    
    for (let j = left; j < right; j++) {
        if (arr[j] <= pivot) {
            i++;
            [arr[i], arr[j]] = [arr[j], arr[i]]; // äº¤æ¢å…ƒç´ 
        }
    }
    
    [arr[i + 1], arr[right]] = [arr[right], arr[i + 1]]; // å°†åŸºå‡†æ”¾åˆ°æ­£ç¡®çš„ä½ç½®
    return i + 1;
}

// ä½¿ç”¨ç¤ºä¾‹
let arr = [3, 2, 1, 5, 6, 4];
console.log(quickSelect(arr, 2)); // è¾“å‡ºï¼š2ï¼ˆç¬¬2å°çš„å…ƒç´ ï¼‰
console.log(quickSelect(arr, 4)); // è¾“å‡ºï¼š4ï¼ˆç¬¬4å°çš„å…ƒç´ ï¼‰
```

4. ç®—æ³•åˆ†æï¼š
   - æ—¶é—´å¤æ‚åº¦ï¼š
     * å¹³å‡æƒ…å†µï¼šO(n)
     * æœ€åæƒ…å†µï¼šO(nÂ²)ï¼ˆä½†è¿™ç§æƒ…å†µå¾ˆå°‘å‘ç”Ÿï¼Œå°¤å…¶æ˜¯å¦‚æœæˆ‘ä»¬éšæœºé€‰æ‹©åŸºå‡†ï¼‰
   - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œå› ä¸ºå®ƒæ˜¯åŸåœ°æ“ä½œçš„
5. ä¼˜ç‚¹ï¼š
   - åœ¨å¹³å‡æƒ…å†µä¸‹ï¼Œå®ƒæ¯”æ’åºæ•´ä¸ªæ•°ç»„ç„¶åé€‰æ‹©ç¬¬kä¸ªå…ƒç´ è¦å¿«å¾—å¤š
   - å®ƒæ˜¯ä¸€ä¸ªåŸåœ°ç®—æ³•ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´
   - å¯¹äºå¤§å‹æ•°æ®é›†å¯»æ‰¾ä¸­ä½æ•°æˆ–è€…å…¶ä»–ç™¾åˆ†ä½æ•°éå¸¸æœ‰æ•ˆ
6. åº”ç”¨åœºæ™¯ï¼š
   - å¯»æ‰¾æ•°ç»„ä¸­çš„ä¸­ä½æ•°
   - å¯»æ‰¾ç¬¬kå¤§ï¼ˆæˆ–ç¬¬kå°ï¼‰çš„å…ƒç´ 
   - è§£å†³ Top K é—®é¢˜
   - åœ¨æŸäº›æ•°æ®æµç®—æ³•ä¸­ç”¨äºç»´æŠ¤è¿è¡Œæ—¶çš„ç»Ÿè®¡ä¿¡æ¯
7. ä¼˜åŒ–ï¼š
   - ä½¿ç”¨éšæœºé€‰æ‹©åŸºå‡†å¯ä»¥è¿›ä¸€æ­¥æ”¹å–„æœ€åæƒ…å†µçš„æ€§èƒ½
   - å¯¹äºå°è§„æ¨¡å­æ•°ç»„ï¼Œå¯ä»¥åˆ‡æ¢åˆ°æ’å…¥æ’åºç­‰ç®€å•ç®—æ³•æ¥æé«˜æ•ˆç‡

å¿«é€Ÿé€‰æ‹©ç®—æ³•æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œä¼˜é›…çš„ç®—æ³•ï¼Œå®ƒå±•ç¤ºäº†å¦‚ä½•é€šè¿‡åªè§£å†³é—®é¢˜çš„ä¸€éƒ¨åˆ†æ¥é«˜æ•ˆåœ°å¾—åˆ°ç­”æ¡ˆã€‚ç†è§£å’ŒæŒæ¡è¿™ä¸ªç®—æ³•ä¸ä»…èƒ½å¸®åŠ©è§£å†³ç‰¹å®šçš„é—®é¢˜ï¼Œè¿˜èƒ½æä¾›ä¸€ç§è§£å†³æ›´å¹¿æ³›é—®é¢˜çš„æ€è·¯ã€‚

### 3. ç›¸å…³é¢˜ç›®

|LeetCode|åŠ›æ‰£|éš¾åº¦|
|---|---|---|
|[215. Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array/)|[215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-an-array/)|ğŸŸ |
|[912. Sort an Array](https://leetcode.com/problems/sort-an-array/)|[912. æ’åºæ•°ç»„](https://leetcode.cn/problems/sort-an-array/)|ğŸŸ |
|-|[å‰‘æŒ‡ Offer II 076. æ•°ç»„ä¸­çš„ç¬¬ k å¤§çš„æ•°å­—](https://leetcode.cn/problems/xx4gT2/)|ğŸŸ |

### 4. å‚è€ƒ

https://labuladong.online/algo/practice-in-action/quick-sort/

### 1. å¿«é€Ÿæ’åºç¬”è®° 1

#### 1.1. ä¸€å¥è¯æ€»ç»“ `å¿«æ’æ’åº` 

- `ä¸€å¥è¯æ€»ç»“`äº†å½’å¹¶æ’åºï¼š
	- å…ˆæŠŠ`å·¦åŠè¾¹æ•°ç»„`æ’å¥½åº
		- base caseï¼š`lo === hi`
	- å†æŠŠ`å³åŠè¾¹æ•°ç»„`æ’å¥½åº
		-  base caseï¼š`lo === hi`
	- ç„¶åæŠŠä¸¤åŠæ•°ç»„`åˆå¹¶`
		- `merge` ä¸¤ä¸ªæœ‰åºæ•°ç»„
- é‚£ä¹ˆï¼Œä¸€å¥è¯æ€»ç»“ `å¿«æ’` å‘¢ï¼Ÿ
	- `å…ˆå°†ä¸€ä¸ªå…ƒç´ æ’å¥½åº`ï¼Œ
	- ç„¶åå†å°†`å‰©ä¸‹çš„å…ƒç´ `æ’å¥½åºã€‚å¦‚ä½•ç†è§£ï¼Ÿå¦‚ä¸‹å›¾ï¼š

![image.png|496](https://832-1310531898.cos.ap-beijing.myqcloud.com/6b859d6a4f606a9b67f4a8709d846c4d.png)

#### 1.2. `å¿«é€Ÿæ’åº`çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ª `æ„é€ äºŒå‰æœç´¢æ ‘`çš„è¿‡ç¨‹

çœ‹ä¸‹å›¾å°±æ˜ç™½äº†ï¼š

![1.gif|208](https://832-1310531898.cos.ap-beijing.myqcloud.com/3badc5c4acc77559a890b8727b5d3b8a.gif)

æœ€åï¼Œå¯ä¸å°±æ˜¯ä¸€ä¸ª`äºŒå‰æœç´¢æ ‘`å—ï¼Ÿå¦‚ä¸‹å›¾

![image.png|536](https://832-1310531898.cos.ap-beijing.myqcloud.com/bebbe199c49050edc38883000dd8e5b3.png)


æ„é€ æ—¶ï¼Œå¦‚æœè¿æ°”ç‰¹åˆ«ä¸å¥½ï¼Œæ„é€ å‡ºä¸€ä¸ª`ç‰¹åˆ«ä¸å¹³è¡¡çš„äºŒå‰æ ‘` ï¼Œå¦‚ä¸‹å›¾ï¼Œ`è§£å†³æ–¹æ¡ˆ`æ˜¯ï¼šæ„é€ å‰æ´—ç‰Œæ•°ç»„å…ˆã€‚

![image.png|600](https://832-1310531898.cos.ap-beijing.myqcloud.com/2347ca1cb56ea865f2b4fd67c83226c4.png)

#### 1.3. å¦‚ä½•ç†è§£å¿«é€Ÿæ’åºæ˜¯ `äºŒå‰æ ‘å‰åºéå†` ? 

çœ‹åŠ¨å›¾ï¼Œè¿™ä¸å°±æ˜¯ `äºŒå‰æ ‘çš„å‰åºéå†` å—ï¼Ÿ

![1.gif](https://832-1310531898.cos.ap-beijing.myqcloud.com/3badc5c4acc77559a890b8727b5d3b8a.gif)

å†çœ‹`ä»£ç æ¡†æ¶`

![image.png|624](https://832-1310531898.cos.ap-beijing.myqcloud.com/729c31fd9d52a3db6fae97365c74e347.png)

> ä¸Šé¢ä»£ç  `p ã€ p-1 ã€ p+1` åˆ†åˆ«éƒ½æœ‰å…·ä½“å«ä¹‰çš„ï¼

#### 1.4. å®ç°æ–¹å¼1ï¼šjsçš„ç®€æ˜“å®ç°

```javascript
// 1ã€æ‰¾åŸºå‡†å€¼ï¼Œç„¶ååˆ†æˆä¸¤ä¸ªæ•°ç»„
// 2ã€ä¸è¯¥åŸºå‡†ç‚¹æ•°æ®æ¯”è¾ƒï¼Œå¦‚æœæ¯”å®ƒå°ï¼Œæ”¾å·¦è¾¹ï¼›åä¹‹ï¼Œæ”¾å³è¾¹ã€‚
// 3ã€å·¦å³åˆ†åˆ«ç”¨ä¸€ä¸ªç©ºæ•°ç»„å»å­˜å‚¨æ¯”è¾ƒåçš„æ•°æ®ã€‚
// 4ã€æœ€åé€’å½’æ‰§è¡Œä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æ•°ç»„é•¿åº¦ <= 1
const quickSort1 = arr => {
    if (arr.length <= 1) {
        return arr;
    }
    // å–åŸºå‡†ç‚¹
    const midIndex = Math.floor(arr.length / 2);
    // å–åŸºå‡†ç‚¹çš„å€¼ï¼Œsplice(index,1) åˆ™è¿”å›çš„æ˜¯å«æœ‰è¢«åˆ é™¤çš„å…ƒç´ çš„æ•°ç»„ã€‚
    const midIndexVal = arr.splice(midIndex, 1)[0];
    const left = []; // å­˜æ”¾æ¯”åŸºå‡†ç‚¹å°çš„æ•°ç»„
    const right = []; // å­˜æ”¾æ¯”åŸºå‡†ç‚¹å¤§çš„æ•°ç»„
    // éå†æ•°ç»„ï¼Œè¿›è¡Œåˆ¤æ–­åˆ†é…
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] < midIndexVal) {
            left.push(arr[i]); //æ¯”åŸºå‡†ç‚¹å°çš„æ”¾åœ¨å·¦è¾¹æ•°ç»„
        } else {
            right.push(arr[i]); //æ¯”åŸºå‡†ç‚¹å¤§çš„æ”¾åœ¨å³è¾¹æ•°ç»„
        }
    }
    //é€’å½’æ‰§è¡Œä»¥ä¸Šæ“ä½œï¼Œå¯¹å·¦å³ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ“ä½œï¼Œç›´åˆ°æ•°ç»„é•¿åº¦ä¸º <= 1
    return quickSort1(left).concat(midIndexVal, quickSort1(right));
};
const array2 = [5, 4, 3, 2, 1];
console.log('quickSort1 ', quickSort1(array2));

```

ä½¿ç”¨ `splice` å°±è¡Œåˆ†å‰²ï¼Œç„¶åæœ€åé€’å½’ï¼Œéå†

å¦å¤–ï¼Œè¯¥å®ç°æ²¡æœ‰å®Œå…¨å‚è€ƒä¸Šé¢çš„ä»£ç æ¨¡æ¿ï¼Œä½¿ç”¨äº†JavaScript ä¸€äº›è¯­è¨€ç‰¹æ€§ï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰è§£å†³ å‰åºéå†æ„é€ äºŒå‰æ ‘æœç´¢æ ‘æ—¶ï¼Œ`è¿æ°”ç‰¹åˆ«å·®`çš„åœºæ™¯ã€‚

##### 1.4.1. ç®—æ³•å¤æ‚æ—¶åˆ†æ

![image.png](https://832-1310531898.cos.ap-beijing.myqcloud.com/04672262505df16cb349fab68a47b775.png)

#### 1.5. å®ç°æ–¹å¼2ï¼šå¥—ç”¨ä¸Šé¢çš„æ¨¡æ¿ï¼Œtodo

### 2. ä½¿ç”¨å¿«æ’æ€è·¯ï¼Œå®ç°æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬`k`å¤§å…ƒç´ 

[Loading Question... - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/kth-largest-element-in-an-array/)

### 3. å¿«æ’ä¸å½’å¹¶æ’åºçš„å¯¹æ¯”

![image.png](https://832-1310531898.cos.ap-beijing.myqcloud.com/bf815141e6fa6394b88af03dc7f2cc05.png)

- `å½’å¹¶æ’åº` æ˜¯ `è‡ªä¸‹è€Œä¸Š` çš„ï¼Œå ç”¨å†…å­˜é«˜äº›ï¼Œæ²¡æ³•åŸåœ°ï¼Œä½† **ç¨³å®š**
- å¿«æ’ æ˜¯ è‡ªä¸‹è€Œä¸Šçš„ï¼Œä»–åˆ†è§£`å­é—®é¢˜`ï¼ŒåŸåœ°æ’åºï¼Œä¸ç¨³å®š



