
# äºŒå‰æœç´¢æ ‘ï¼ˆç¯‡äºŒï¼šBST çš„å¢åˆ æ”¹æŸ¥ï¼‰


`#BST` `#leetcode`  `#äºŒå‰æ ‘/äºŒå‰æœç´¢æ ‘`   `#2024/09/08` 


## ç›®å½•
<!-- toc -->
 ## 1. ä»£ç æ¨¡æ¿ 

```javascript
var BST = function (root, target) {
  if (root.val === target) {
    // æ‰¾åˆ°ç›®æ ‡ï¼Œåšç‚¹ä»€ä¹ˆ
  }
  if (root.val < target) {
    BST(root.right, target);
  }
  if (root.val > target) {
    BST(root.left, target);
  }
};

```

## 2. åˆ¤æ–­ BST çš„åˆæ³•æ€§

- å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹Â `root`ï¼Œä»£ç å€¼æ£€æŸ¥äº†å®ƒçš„å·¦å³å­©å­èŠ‚ç‚¹æ˜¯å¦ç¬¦åˆå·¦å°å³å¤§çš„åŸåˆ™
- æœ€é‡è¦çš„æ˜¯ï¼Œè¿˜éœ€è¦æ£€æŸ¥ **`root`Â çš„æ•´ä¸ªå·¦å­æ ‘éƒ½è¦å°äºÂ `root.val`ï¼Œæ•´ä¸ªå³å­æ ‘éƒ½è¦å¤§äºÂ `root.val`**

å¦åˆ™è§„é¿ä¸‹é¢çš„æƒ…å†µï¼š

![å›¾ç‰‡&æ–‡ä»¶](./files/Pastedimage20240908120714.png)

æ‰€ä»¥ï¼Œéœ€è¦éœ€è¦åœ¨é€’å½’å‡½æ•°ä¸­**ä¼ å€¼** ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```javascript hl:18
var isValidBST = function (root) {
  return _isValidBST(root, Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);
};

/**
 * @description åˆ¤æ–­ä¸€æ£µæ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘
 * @param {TreeNode} root äºŒå‰æ ‘æ ¹èŠ‚ç‚¹
 * @param {number} min ä»£è¡¨ root.val çš„ä¸‹ç•Œ
 * @param {number} max ä»£è¡¨ root.val çš„ä¸Šç•Œ
 * @return {boolean} æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘
 */
var _isValidBST = function (root, min, max) {
  // base case: root ä¸º null æ—¶ï¼Œæ˜¯äºŒå‰æœç´¢æ ‘
  if (root === null) {
    return true;
  }
  // è‹¥ root.val ä¸ç¬¦åˆ min < root.val < maxï¼Œè¯´æ˜ä¸æ˜¯äºŒå‰æœç´¢æ ‘
  if (root.val <= min || root.val >= max) {
    return false;
  }

  // é€’å½’åˆ¤æ–­å·¦å³å­æ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘
  // å·¦å­æ ‘çš„æœ€å¤§å€¼ä¸º root.val, æœ€å°å€¼ä¸º min
  let left = _isValidBST(root.left, min, root.val);
  // å³å­æ ‘çš„æœ€å°å€¼ä¸º root.val, æœ€å¤§å€¼ä¸º max
  let right = _isValidBST(root.right, root.val, max);

  return left && right;
};

```

### 2.1. æ³¨æ„ç‚¹

ä¸Šé¢ä»£ç çš„ 18 è¡Œä¸­ï¼Œéœ€è¦æ³¨æ„ä½¿ç”¨ `>=`ï¼Œè¿˜æœ‰ä¸€äº›æ³¨æ„ç‚¹å¦‚ä¸‹å›¾ï¼š

![å›¾ç‰‡&æ–‡ä»¶](./files/Pastedimage20240908122150.png)

## 3. åœ¨ BST ä¸­æœç´¢ä¸€ä¸ªèŠ‚ç‚¹ 

### 3.1. éå†ä¸€éæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹

```javascript
var searchBST = function (root, target) {
  if (root === null) {
    return null;
  }
  // base case: root ä¸º null æ—¶ï¼Œè¿”å› null
  if (root.val === target) {
    return root;
  }
  // å·¦å­æ ‘ä¸­æœç´¢
  let left = searchBST(root.left, target);
  if (left) {
    return left;
  }
  // å³å­æ ‘ä¸­æœç´¢
  let right = searchBST(root.right, target);
  if (right) {
    return right;
  }
  // æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å€¼
  return null;
};

```

### 3.2. åˆ©ç”¨ BST çš„å·¦å°å³å¤§çš„ç‰¹æ€§

```javascript
var searchBST = function (root, target) {
  if (root === null) {
    return null;
  }

  // base case: root ä¸º null æ—¶ï¼Œè¿”å› null
  if (root.val === target) {
    return root;
  }

  // å¦‚æœç›®æ ‡å€¼å°äºå½“å‰èŠ‚ç‚¹å€¼ï¼Œæœç´¢å·¦å­æ ‘
  if (target < root.val) {
    return searchBST(root.left, target);
  }
  // å¦‚æœç›®æ ‡å€¼å¤§äºå½“å‰èŠ‚ç‚¹å€¼ï¼Œæœç´¢å³å­æ ‘
  if (target > root.val) {
    return searchBST(root.right, target);
  }

  return null;
};

```

## 4. åœ¨ BST ä¸­æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ 

> æˆ‘ä»¬å‡å®š **é»˜è®¤ä¸ä¼šå‘ BST ä¸­æ’å…¥å·²å­˜åœ¨çš„å€¼**

```javascript
function insertIntoBST(root, val) {
  //å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå€¼ä¸º val
  if (!root) {
    return new TreeNode(val);
  }
  //å¦‚æœ val å¤§äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œé€’å½’æ’å…¥åˆ°å³å­æ ‘
  if (root.val < val) {
    root.right = insertIntoBST(root.right, val);
  }
  //å¦‚æœ val å°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œé€’å½’æ’å…¥åˆ°å·¦å­æ ‘
  if (root.val > val) {
    root.left = insertIntoBST(root.left, val);
  }
  // æœ€åï¼Œè¿”å›æ ¹èŠ‚ç‚¹
  return root;
}

```

### 4.1. æ³¨æ„ç‚¹

- ä¸€æ—¦æ¶‰åŠ**æ”¹**ï¼Œå°±**ç±»ä¼¼äºŒå‰æ ‘çš„æ„é€ é—®é¢˜**ï¼Œå‡½æ•°è¦è¿”å›Â `TreeNode`Â ç±»å‹
- å¹¶ä¸”è¦å¯¹é€’å½’è°ƒç”¨çš„**è¿”å›å€¼**è¿›è¡Œ**æ¥æ”¶**

## 5. åœ¨ BST ä¸­åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ 

- å…ˆã€Œæ‰¾ã€è¯¥èŠ‚ç‚¹
- å†ã€Œæ”¹ã€è¯¥èŠ‚ç‚¹

### 5.1. å…ˆå†™å‡ºä»£ç æ¨¡æ¿

```javascript hl:3
var deleteNode = function(root, key) {
    if (root.val === key) {
        // æ‰¾åˆ°å•¦ï¼Œ è¿›è¡Œåˆ é™¤
    } else if (root.val > key) {
        // å»å·¦å­æ ‘æ‰¾
        root.left = deleteNode(root.left, key);
    } else if (root.val < key) {
        // å»å³å­æ ‘æ‰¾
        root.right = deleteNode(root.right, key);
    }
    return root;
}
```

### 5.2. æ‰¾åˆ°äº†ï¼Œæœ‰ä¸‰ç§æƒ…å†µ

![å›¾ç‰‡&æ–‡ä»¶](./files/Pastedimage20240908125438.png)

### 5.3. ä»£ç å®ç°

```javascript
var deleteNode = function (root, key) {
  // base case
  if (!root) {
    return null;
  }
  if (root.val === key) {
    // æƒ…å†µ 1ï¼šæ²¡æœ‰å­èŠ‚ç‚¹, ç›´æ¥åˆ é™¤
    //  åˆ é™¤çš„æ–¹å¼æ˜¯ï¼šç›´æ¥è¿”å› null
    if (!root.left && !root.right) {
      return null;
    }

    // æƒ…å†µ 2ï¼šåªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹
    // åˆ é™¤çš„æ–¹å¼æ˜¯ï¼šè¿”å›éç©ºçš„å­èŠ‚ç‚¹
    // å¦‚æœå³å­èŠ‚ç‚¹å­˜åœ¨ï¼Œè¿”å›å³å­èŠ‚ç‚¹
    // åˆ é™¤çš„æ–¹å¼æ˜¯ï¼šè¿”å›å³å­èŠ‚ç‚¹
    if (!root.left && root.right) {
      return root.right;
    }
    // å¦‚æœå·¦å­èŠ‚ç‚¹å­˜åœ¨ï¼Œè¿”å›å·¦å­èŠ‚ç‚¹
    // åˆ é™¤çš„æ–¹å¼æ˜¯ï¼šè¿”å›å·¦å­èŠ‚ç‚¹
    if (!root.right && root.left) {
      return root.left;
    }

    // æƒ…å†µ 3ï¼šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹
    // åˆ é™¤çš„æ–¹å¼æ˜¯ï¼šâ‘  æ‰¾åˆ°å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼Œæ›¿æ¢å½“å‰èŠ‚ç‚¹ æˆ–è€… â‘¡ æ‰¾åˆ°å·¦å­æ ‘ä¸­çš„æœ€å¤§èŠ‚ç‚¹ï¼Œæ›¿æ¢å½“å‰èŠ‚ç‚¹
    // æˆ‘ä»¬è¿™é‡Œé€‰æ‹© â‘ 
    // æ‰¾åˆ°å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹, æ›¿æ¢å½“å‰èŠ‚ç‚¹, ç„¶ååˆ é™¤å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹
    // â‘  - 1:æ‰¾åˆ°å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹
    let minNode = getMin(root.right);
    // â‘  - 2:æ›¿æ¢å½“å‰èŠ‚ç‚¹
    root.val = minNode.val;
    // â‘  - 3:ç„¶ååˆ é™¤å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹,è¿”å›å€¼å¿…é¡»ä½¿ç”¨ root.right æ¥ä½
    root.right = deleteNode(root.right, minNode.val);
  } else if (root.val > key) {
    // å»å·¦å­æ ‘æ‰¾
    root.left = deleteNode(root.left, key);
  } else if (root.val < key) {
    // å»å³å­æ ‘æ‰¾
    root.right = deleteNode(root.right, key);
  }
  return root;
};

// è·å¾— BST ä¸­æœ€å°çš„èŠ‚ç‚¹ã€‚
var getMin = function (node) {
  // BST æœ€å·¦è¾¹çš„å°±æ˜¯æœ€å°çš„
  while (node.left != null) {
    node = node.left;
  }
  return node;
};

```

## 6. æœ€åæ³¨æ„ ğŸ“¢

ä»…å¯¹äºè¿™é“ç®—æ³•é¢˜æ¥è¯´æ˜¯å¯ä»¥çš„ï¼Œä½†è¿™æ ·æ“ä½œå¹¶ä¸å®Œç¾ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šé€šè¿‡ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼æ¥äº¤æ¢èŠ‚ç‚¹ã€‚å› ä¸ºåœ¨å®é™…åº”ç”¨ä¸­ï¼ŒBST èŠ‚ç‚¹å†…éƒ¨çš„æ•°æ®åŸŸæ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œå¯ä»¥éå¸¸å¤æ‚ï¼Œè€Œ BST ä½œä¸ºæ•°æ®ç»“æ„ï¼ˆä¸€ä¸ªå·¥å…·äººï¼‰ï¼Œå…¶æ“ä½œåº”è¯¥å’Œå†…éƒ¨å­˜å‚¨çš„æ•°æ®åŸŸè§£è€¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨æŒ‡é’ˆæ“ä½œæ¥äº¤æ¢èŠ‚ç‚¹ï¼Œæ ¹æœ¬æ²¡å¿…è¦å…³å¿ƒå†…éƒ¨æ•°æ®ã€‚

1. å¦‚æœå½“å‰èŠ‚ç‚¹ä¼šå¯¹ä¸‹é¢çš„å­èŠ‚ç‚¹æœ‰æ•´ä½“å½±å“ï¼Œå¯ä»¥é€šè¿‡å€ŸåŠ©**å‡½æ•°ä¼ å‚**
2. é€’å½’**ä¿®æ”¹**æ•°æ®ç»“æ„æ—¶
	- **ä¸€å®šè¦å¯¹é€’å½’è°ƒç”¨çš„è¿”å›å€¼è¿›è¡Œæ¥æ”¶**
	- å¹¶**è¿”å›**ä¿®æ”¹åçš„èŠ‚ç‚¹
3.  BST ä½œä¸ºæ•°æ®ç»“æ„ï¼ˆä¸€ä¸ªå·¥å…·äººï¼‰ï¼ŒåŒé€’å½’ï¼Œæ²¡å¿…è¦å…³å¿ƒé‡Œé¢ï¼Œåªéœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹åšç›´æ¥åº”è¯¥åšçš„äº‹æƒ…å³å¯ï¼Œé€’å½’ä¼šå¸®ä½ å®Œæˆ

## 7. å‚è€ƒ

https://labuladong.online/algo/data-structure/bst-part2/

## 8. ç›¸å…³é¢˜ç›®

|LeetCode|åŠ›æ‰£|éš¾åº¦|
|---|---|---|
|[450. Delete Node in a BST](https://leetcode.com/problems/delete-node-in-a-bst/)|[450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/delete-node-in-a-bst/)|ğŸŸ |
|[700. Search in a Binary Search Tree](https://leetcode.com/problems/search-in-a-binary-search-tree/)|[700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢](https://leetcode.cn/problems/search-in-a-binary-search-tree/)|ğŸŸ¢|
|[701. Insert into a Binary Search Tree](https://leetcode.com/problems/insert-into-a-binary-search-tree/)|[701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ](https://leetcode.cn/problems/insert-into-a-binary-search-tree/)|ğŸŸ |
|[98. Validate Binary Search Tree](https://leetcode.com/problems/validate-binary-search-tree/)|[98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/validate-binary-search-tree/)|ğŸŸ |
