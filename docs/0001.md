


#算法/动态规划 

# 斐波那契数列

> - https://leetcode.cn/problems/fibonacci-number

![image.png](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303181734365.png)

## 1、暴力递归 

```typescript
var fib = function (n) {
  if (n === 0) return 0;
  if (n === 1) return 1;
  return fib(n - 1) + fib(n - 2);
};
```


算法复杂度，如下图，即`子问题的个数 = O(2^n)`  指数级别，爆炸，因为有`重叠子问题` ，

![](https://blog-1310531898.cos.ap-beijing.myqcloud.com//FqgMGUach7F3GR9NPi7IUWArNQxy.png)


## 2、自顶向下`递归`算法 - `dp函数` - 带备忘录

```typescript

// 解决重叠子问题 - 带备忘录的递归解法
var fib = function (n) {
  // 备忘录全初始化为 0
  let memo = new Array(n + 1).fill(0);
  // 注意，这里利用了闭包，把memo传入，能够保证不销毁
  // 进行带备忘录的递归
  return dp(memo, n);
};

// 带着备忘录进行递归
var dp = function (memo, n) {

  // base case
  if (n === 0 || n === 1) return n;
  // 已经计算过，不用再计算了
  if (memo[n] !== 0) return memo[n];
  // 否则，重新计算，并且存到memo中
  
  // 这里利用了闭包，把memo传入
  memo[n] = dp(memo, n - 1) + dp(memo, n - 2);
  return memo[n];
  
};
```

算法的时间复杂度，即`子问题的个数 =  O(n)` ， 空间复杂度`O(n)` 

**如下图**

![](https://blog-1310531898.cos.ap-beijing.myqcloud.com//Fmx7VEFTfQllw5wH_Bp1tf0Ya1Ix.png)


## 3、【自低向上】dp 数组的迭代（递推）解法 - `dp数组`


```typescript
/*************************************************
 *</div>:解法3： DP table 【自低向上】dp 数组的迭代（递推）解法
 * //</div>:所谓 【自低向上】 即 推倒过程，从0，1 推倒出 f(2)等
 * 算法的时间复杂度是 O(n) ，空间复杂度O(n)
 ************************************************/
function fib (N) {
  // init var
  if (N === 0) return 0;
  let dp = new Array(N + 1).fill(0);
  
  // base case
  dp[0] = 0;
  dp[1] = 1;
  
  //// 状态转移方程
  for (let i = 2; i <= N; i++) {
    dp[i] = dp[i - 1] + dp[i - 2];
  }
  return dp[N];
};
```

算法的时间复杂度是` O(n)` ，空间复杂度`O(n)`

其实，就是`转态转移方程`的实现，如下：

![](https://blog-1310531898.cos.ap-beijing.myqcloud.com//FoofTqpUHejuQ9C6_KNg6Aq4aIJW.png)


## 4、空间复杂度降为 `O(1)`

```typescript
// 进一步优化，把二维的dp table 压成一维的,即只要维护两个变量 prev  curr
function fib (n) {
  if (n === 0 || n === 1) return n;
  let prev = 1, curr = 1;
  
  for (let i = 2; i < n; i++) {
    let sum = prev + curr;
    prev = curr;
    curr = sum;
  }

  return curr;
};
```


## 参考

- https://labuladong.github.io/algo/di-ling-zh-bfe1b/dong-tai-g-1e688/ 
- https://leetcode.cn/problems/fibonacci-number
---
<div class="liguwe-doc-footer">
            <p class="liguwe-doc-footer-update-time"><i>Last updated：2023.03.15</i></p>
            <div class="liguwe-doc-footer-edit-link">
                <a href="https://www.yuque.com/liguwe/post/0001" target="_blank" class="liguwe-doc-footer-edit-link-a">View this page on Yuque（语雀）</a>
                <a href="https://github.com/liguwe/liguwe.github.io/issues/new?title=0001.斐波那契数列@算法&labels=liguwe.site" target="_blank" class="liguwe-doc-footer-edit-link-a">Comment this page on GitHub Issues</a>
            </div>
        </div>