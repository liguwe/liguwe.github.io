
# æœ€é•¿é€’å¢å­åºåˆ— + ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜


<Badge type="warning">#ç®—æ³•/åŠ¨æ€è§„åˆ’</Badge> <Badge type="danger">#2023/03/24</Badge> 

##  æœ€é•¿é€’å¢å­åºåˆ—


![iShot_2023-03-24_08.13.42çš„å‰¯æœ¬2.png](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303250743194.png)

- https://leetcode.cn/problems/longest-increasing-subsequence/

> **`ã€Œå­åºåˆ—ã€`å’Œ`ã€Œå­ä¸²ã€`çš„åŒºåˆ«**ï¼š  `å­ä¸²`ä¸€å®šæ˜¯`è¿ç»­`çš„ï¼Œè€Œ`å­åºåˆ—`ä¸ä¸€å®šæ˜¯`è¿ç»­`çš„


## æ•°å­¦å½’çº³æ³•

- **å®šä¹‰ dp**ï¼š  `dp[i]` è¡¨ç¤ºä»¥ `nums[i]` è¿™ä¸ªæ•°`ç»“å°¾`çš„ æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚
	-  base case : `dp[0] = 1` 
	- å…¶ä»–çš„ï¼Œå¦‚ä¸‹å›¾ï¼Œå…³é”®æ˜¯éœ€è¦ç”»å‡º `index` , `nums` , `dp` ä¸‰è€…çš„å¯¹åº”å…³ç³»
	- æ¨å¯¼å‡º `dp[5]` ï¼Œ
		- å…ˆ æ‰¾åˆ° **æ‰€æœ‰æ¯” `nums[5]` å°çš„** ï¼Œå³ `nums[0] = 1` å’Œ `nums[4] = 2` 
			- ç„¶åï¼Œå†æ¯”è¾ƒ  `dp[0] + 1` å’Œ   `dp[4] + 1`  ï¼Œå“ªä¸ªæ›´å¤§ï¼Ÿ æœ€å¤§å€¼å°±æ˜¯ `dp[5]` çš„å€¼

![iShot_2023-03-24_08.31.21.png|900](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303250744477.png)

æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var lengthOfLIS = function(nums) {
    // dp[i] è¡¨ç¤ºä»¥ nums[i] è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1
    // â‘  æœ€é•¿é€’å¢å­åºåˆ—
    let dp = new Array(nums.length).fill(1);
    for (let i = 0; i < nums.length; i++) {
	    // ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢  j < i ,æ³¨æ„è¿™ä¸ª
        for (let j = 0; j < i; j++) {
            if (nums[i] > nums[j])
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
    // è¿™é‡Œå†éå†æ‰¾åˆ°æœ€å¤§çš„ dp å€¼å³å¯
    let res = 0;
    for (let i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
};
```


æ—¶é—´å¤æ‚åº¦ï¼š `O(N^2)` 


## `åŠ¨æ€å½’çº³æ³•` æ‰¾`çŠ¶æ€è½¬ç§»å…³ç³»` çš„å¥—è·¯æ€»ç»“


1ã€æ˜ç¡® `dp æ•°ç»„`çš„å®šä¹‰ã€‚è¿™ä¸€æ­¥å¯¹äºä»»**ä½•åŠ¨æ€è§„åˆ’é—®é¢˜**éƒ½å¾ˆé‡è¦ï¼Œå¦‚æœä¸å¾—å½“æˆ–è€…ä¸å¤Ÿæ¸…æ™°ï¼Œä¼šé˜»ç¢ä¹‹åçš„æ­¥éª¤ã€‚

> [!danger]
>  éå¸¸é‡è¦ï¼Œå®šä¹‰é”™è¯¯å°±æ²¡æ³•å¾€ä¸‹èµ°äº†ï¼Œå¦‚æœé”™è¯¯ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ `dp æ•°ç»„`çš„å®šä¹‰ä¸å¤Ÿæ°å½“ï¼Œéœ€è¦é‡æ–°å®šä¹‰ dp æ•°ç»„çš„å«ä¹‰ï¼›æˆ–è€…å¯èƒ½æ˜¯ `dp æ•°ç»„å­˜å‚¨çš„ä¿¡æ¯è¿˜ä¸å¤Ÿ`ï¼Œä¸è¶³ä»¥æ¨å‡ºä¸‹ä¸€æ­¥çš„ç­”æ¡ˆï¼Œéœ€è¦æŠŠ `dp æ•°ç»„æ‰©å¤§æˆäºŒç»´æ•°ç»„ç”šè‡³ä¸‰ç»´æ•°ç»„`ã€‚

2ã€æ ¹æ® dp æ•°ç»„çš„å®šä¹‰ï¼Œè¿ç”¨`æ•°å­¦å½’çº³æ³•`çš„æ€æƒ³ï¼Œå‡è®¾ `dp[0...i-1]` éƒ½å·²çŸ¥ï¼Œæƒ³åŠæ³•æ±‚å‡º `dp[i]`ï¼Œä¸€æ—¦è¿™ä¸€æ­¥å®Œæˆï¼Œæ•´ä¸ªé¢˜ç›®åŸºæœ¬å°±è§£å†³äº†


## `O(NlogN)` çš„è§£æ³•

ç±»ä¼¼æ‰‘å…‹ç‰Œï¼Œå…¶å®æœ€é•¿é€’å¢å­åºåˆ—å’Œä¸€ç§å«åš `patience game` çš„çº¸ç‰Œæ¸¸æˆæœ‰å…³ï¼Œç”šè‡³æœ‰ä¸€ç§æ’åºæ–¹æ³•å°±å«åš `patience sortingï¼ˆè€å¿ƒæ’åºï¼‰` ï¼Œå¯ä»¥åˆ©ç”¨åˆ°äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œå…·ä½“ä¸å±•å¼€äº†ï¼Œå¯å‚è€ƒä¸‹é¢é“¾æ¥ã€‚


## æ‰©å±•åˆ°äºŒç»´ - ä¿„ç½—æ–¯å¥—å¨ƒ



- https://leetcode.cn/problems/russian-doll-envelopes/

![iShot_2023-03-25_06.26.50.png|795](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303250744588.png)

è§£æ³•æ¯”è¾ƒå·§å¦™ï¼š

- å…ˆå¯¹å®½åº¦ `w` è¿›è¡Œ`å‡åº`æ’åºï¼Œ
	- å¦‚æœé‡åˆ° `w ç›¸åŒ`çš„æƒ…å†µï¼Œåˆ™æŒ‰ç…§é«˜åº¦ `h`  `é™åº` æ’åºï¼›
- ä¹‹åæŠŠæ‰€æœ‰çš„ `h` ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸Šè®¡ç®— `LIS çš„é•¿åº¦`å°±æ˜¯ç­”æ¡ˆã€‚

å¦‚ä¸‹å›¾ï¼Œåªéœ€è¦å¯¹ `[8,3,4,2,7]` æŸ¥æ‰¾ `æœ€é•¿é€’å¢å­åºåˆ—` å³å¯ï¼Œ ==ä¸å¥½ç†è§£çš„è¯çœ‹ä¸‹é¢ä¸¤å¼ å›¾==

![Pasted image 20230325062941.png|420](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303250746861.png)

å¦‚ä¸‹å›¾ï¼Œæœ€é•¿é€’å¢å­åºåˆ— `[3 4 7]`

![Pasted image 20230325062958.png|228](https://od-1310531898.cos.ap-beijing.myqcloud.com/202303250746304.png)


å…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * @param {number[][]} envelopes
 * @return {number}
 */
function maxEnvelopes(envelopes) {
    let n = envelopes.length;
    // æŒ‰å®½åº¦å‡åºæ’åˆ—ï¼Œå¦‚æœå®½åº¦ä¸€æ ·ï¼Œåˆ™æŒ‰é«˜åº¦é™åºæ’åˆ—
    envelopes.sort((a, b) => {
        return a[0] === b[0] ?
            b[1] - a[1] : a[0] - b[0];
    });
    // å¯¹é«˜åº¦æ•°ç»„å¯»æ‰¾ LIS
    let height = new Array(n);
    for (let i = 0; i < n; i++) {
        height[i] = envelopes[i][1];
    }
    return lengthOfLIS(height);
}

function lengthOfLIS(nums) {
    // dp[i] è¡¨ç¤ºä»¥ nums[i] è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1
    let dp = new Array(nums.length).fill(1);
    for (let i = 0; i < nums.length; i++) {
        for (let j = 0; j < i; j++) {
            if (nums[i] > nums[j])
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
    let res = 0;
    for (let i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
}
```


> [!danger]
>  æ³¨æ„ï¼šä»¥ä¸Šæ–¹å¼ä¸èƒ½é€šè¿‡ LeetCode çš„æ‰€æœ‰ç”¨ä¾‹ï¼Œéœ€è¦ä½¿ç”¨äºŒåˆ†æ³•æ‰èƒ½é€šè¿‡

## å‚è€ƒ

- https://labuladong.github.io/algo/di-er-zhan-a01c6/dong-tai-g-a223e/dong-tai-g-6ea57/


---
<div class="liguwe-doc-footer">
            <div class="liguwe-doc-footer-edit-link">
                <p class="liguwe-doc-footer-p">
                    <svg t="1687912573060" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1498">
                        <path d="M854.6 370.6c-9.9-39.4 9.9-102.2 73.4-124.4l-67.9-3.6s-25.7-90-143.6-98c-117.8-8.1-194.9-3-195-3 0.1 0 87.4 55.6 52.4 154.7-25.6 52.5-65.8 95.6-108.8 144.7-1.3 1.3-2.5 2.6-3.5 3.7C319.4 605 96 860 96 860c245.9 64.4 410.7-6.3 508.2-91.1 20.5-0.2 35.9-0.3 46.3-0.3 135.8 0 250.6-117.6 245.9-248.4-3.2-89.9-31.9-110.2-41.8-149.6z m-204.1 334c-10.6 0-26.2 0.1-46.8 0.3l-23.6 0.2-17.8 15.5c-47.1 41-104.4 71.5-171.4 87.6-52.5 12.6-110 16.2-172.7 9.6 18-20.5 36.5-41.6 55.4-63.1 92-104.6 173.8-197.5 236.9-268.5l1.4-1.4 1.3-1.5c4.1-4.6 20.6-23.3 24.7-28.1 9.7-11.1 17.3-19.9 24.5-28.6 30.7-36.7 52.2-67.8 69-102.2l1.6-3.3 1.2-3.4c13.7-38.8 15.4-76.9 6.2-112.8 22.5 0.7 46.5 1.9 71.7 3.6 33.3 2.3 55.5 12.9 71.1 29.2 5.8 6 10.2 12.5 13.4 18.7 1 2 1.7 3.6 2.3 5l5 17.7c-15.7 34.5-19.9 73.3-11.4 107.2 3 11.8 6.9 22.4 12.3 34.4 2.1 4.7 9.5 20.1 11 23.3 10.3 22.7 15.4 43 16.7 78.7 3.3 94.6-82.7 181.9-182 181.9z"
                              p-id="1499" ></path>
                    </svg>
                    <a href="https://www.yuque.com/liguwe/post/bd4652d6-8954-5bf3-804d-0118ed1007be" target="_blank" class="liguwe-doc-footer-edit-link-a">
                        View this page on Yuqueï¼ˆè¯­é›€ï¼‰
                    </a>
                </p>
                <p class="liguwe-doc-footer-p">
                    <svg t="1687913054251" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5173"><path d="M853.333333 501.333333c-17.066667 0-32 14.933333-32 32v320c0 6.4-4.266667 10.666667-10.666666 10.666667H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667V213.333333c0-6.4 4.266667-10.666667 10.666667-10.666666h320c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32H170.666667c-40.533333 0-74.666667 34.133333-74.666667 74.666666v640c0 40.533333 34.133333 74.666667 74.666667 74.666667h640c40.533333 0 74.666667-34.133333 74.666666-74.666667V533.333333c0-17.066667-14.933333-32-32-32z"  p-id="5174"></path><path d="M405.333333 484.266667l-32 125.866666c-2.133333 10.666667 0 23.466667 8.533334 29.866667 6.4 6.4 14.933333 8.533333 23.466666 8.533333h8.533334l125.866666-32c6.4-2.133333 10.666667-4.266667 14.933334-8.533333l300.8-300.8c38.4-38.4 38.4-102.4 0-140.8-38.4-38.4-102.4-38.4-140.8 0L413.866667 469.333333c-4.266667 4.266667-6.4 8.533333-8.533334 14.933334z m59.733334 23.466666L761.6 213.333333c12.8-12.8 36.266667-12.8 49.066667 0 12.8 12.8 12.8 36.266667 0 49.066667L516.266667 558.933333l-66.133334 17.066667 14.933334-68.266667z"  p-id="5175"></path></svg>
                    <a href="https://github.com/liguwe/liguwe.github.io/blob/master/docs/bd4652d6-8954-5bf3-804d-0118ed1007be.md" target="_blank" class="liguwe-doc-footer-edit-link-a">Edit this page on Github</a>
                </p>
            </div>
            <div id="liguwe-comment"></div></div>